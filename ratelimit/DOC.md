# grpc_ratelimit
`import "github.com/grpc-ecosystem/go-grpc-middleware/ratelimit"`

* [Overview](#pkg-overview)
* [Imported Packages](#pkg-imports)
* [Index](#pkg-index)
* [Examples](#pkg-examples)

## <a name="pkg-overview">Overview</a>
`grpc_ratelimit` a generic server-side ratelimit middleware for gRPC.

### Server Side Ratelimit Middleware
It allows to use your own rate limiter (e.g. token bucket, leaky bucket, etc.) to do grpc rate limit.

`ratelimit/tokenbucket`provides an implementation based on  token bucket `github.com/juju/ratelimit`.

Please see examples for simple examples of use.

#### Example:

<details>
<summary>Click to expand code.</summary>

```go
// Create unary/stream rateLimiters, based on token bucket here.
// You can implement your own ratelimiter for the interface.
unaryRateLimiter := tokenbucket.NewTokenBucketRateLimiter(1*time.Second, 10, 10)
streamRateLimiter := tokenbucket.NewTokenBucketRateLimiter(1*time.Second, 5, 5)
_ = grpc.NewServer(
    grpc_middleware.WithUnaryServerChain(
        grpc_ratelimit.UnaryServerInterceptor(unaryRateLimiter, 1*time.Second),
    ),
    grpc_middleware.WithStreamServerChain(
        grpc_ratelimit.StreamServerInterceptor(streamRateLimiter, 10*time.Second),
    ),
)
```

</details>

## <a name="pkg-imports">Imported Packages</a>

- [golang.org/x/net/context](https://godoc.org/golang.org/x/net/context)
- [google.golang.org/grpc](https://godoc.org/google.golang.org/grpc)
- [google.golang.org/grpc/codes](https://godoc.org/google.golang.org/grpc/codes)
- [google.golang.org/grpc/status](https://godoc.org/google.golang.org/grpc/status)

## <a name="pkg-index">Index</a>
* [func StreamServerInterceptor(rateLimiter limiter, maxWaitDuration time.Duration) grpc.StreamServerInterceptor](#StreamServerInterceptor)
* [func UnaryServerInterceptor(rateLimiter limiter, maxWaitDuration time.Duration) grpc.UnaryServerInterceptor](#UnaryServerInterceptor)

#### <a name="pkg-examples">Examples</a>
* [Package (Initialization)](#example__initialization)

#### <a name="pkg-files">Package files</a>
[doc.go](./doc.go) [ratelimit.go](./ratelimit.go) 

## <a name="StreamServerInterceptor">func</a> [StreamServerInterceptor](./ratelimit.go#L31)
``` go
func StreamServerInterceptor(rateLimiter limiter, maxWaitDuration time.Duration) grpc.StreamServerInterceptor
```
StreamServerInterceptor returns a new stream server interceptors that performs request rate limit.

## <a name="UnaryServerInterceptor">func</a> [UnaryServerInterceptor](./ratelimit.go#L20)
``` go
func UnaryServerInterceptor(rateLimiter limiter, maxWaitDuration time.Duration) grpc.UnaryServerInterceptor
```
UnaryServerInterceptor returns a new unary server interceptors that performs request rate limit.

- - -
Generated by [godoc2ghmd](https://github.com/GandalfUK/godoc2ghmd)